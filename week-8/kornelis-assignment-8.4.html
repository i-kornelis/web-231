<!--
============================================
; Title: Assignment 8.4
; Author: Izabella Kornelis
; Date: 1 February 2020
; Description: HTML using JQuery to produce dynamic HTML.
;===========================================
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <style type="text/css">
    #employee tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>
<body>

<div id="emps"></div>

<script type="text/javascript">
// function
  function Employee(id, firstName, lastName, title) {
    this.id = id;
    this.firstName = firstName;
    this.lastName = lastName;
    this.title = title;
  };

// create employee objects
  const employees = [
    new Employee('1', 'Thomas', 'Edison', 'Software Engineer'),
    new Employee('2', 'Benjamin', 'Franklin', 'Programmer'),
    new Employee('3', 'Nikola', 'Tesla', 'Project Manager'),
    new Employee('4', 'Charles', 'Babbage', 'Product Manager'),
    new Employee('5', 'Alexander', 'Bell', 'Business Analyst')
  ];

// alert containing employee record
  function getEmployee(id){
    for (let x = 0; x < employees.length; x++) {
      if (employees[x].id === id) {
        alert(employees[x].id + ' ' + employees[x].firstName + ' ' + employees[x].lastName + ' '+ employees[x].title);
      }
    }
  };

// output
  var output = "<table id='employee'>";

  output += "<thead><tr><th>ID</th><th>First Name</th><th>Last Name</th><th>Title</th></thead></tr>";
    for(var x = 0;x<employees.length;x++){
      output += "<tbody><tr>";
      output += "<td>" + employees[x].id + "</td>";
      output += "<td>" + employees[x].firstName + "</td>";
      output += "<td>" + employees[x].lastName + "</td>";
      output += "<td>" + employees[x].title + "</td>";
      output += "</tr></tbody>";
      }
  output += "</table>";

  document.getElementById("emps").innerHTML = output;
  $(function () {
    $("table tr").click(function (event) {
      var selected = $(this).find('td:first').html();
      getEmployee(selected);
    });
  });
</script>

</body>
</html>
